<template>
  <div class="template-preview">
    <!-- æ¨¡æ¿ä¿¡æ¯å¤´éƒ¨ -->
    <div class="preview-header">
      <div class="flex items-center space-x-3">
        <div class="template-icon">
          <el-icon class="text-2xl" :class="getTemplateIconClass(template.style)">
            <component :is="getTemplateIcon(template.style)" />
          </el-icon>
        </div>
        <div>
          <h3 class="template-name">{{ template.name }}</h3>
          <p class="template-description">{{ template.description }}</p>
        </div>
      </div>

      <el-tag :type="getTemplateTagType(template.style)" effect="light">
        {{ getTemplateStyleName(template.style) }}
      </el-tag>
    </div>

    <!-- æ¨¡æ¿ç»“æ„é¢„è§ˆ -->
    <div class="preview-content">
      <h4 class="section-title">æ¨¡æ¿ç»“æ„é¢„è§ˆ</h4>

      <div class="template-structure">
        <div v-if="template.style === 'interactive'" class="structure-content">
          <div class="structure-item">
            <h5>ğŸ“š æ•™å­¦ç›®æ ‡</h5>
            <p>æ˜ç¡®çŸ¥è¯†ã€èƒ½åŠ›ã€æƒ…æ„Ÿä¸‰ç»´ç›®æ ‡</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ¯ æ•™å­¦é‡éš¾ç‚¹</h5>
            <p>çªå‡ºé‡ç‚¹ï¼Œçªç ´éš¾ç‚¹</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ’¬ äº’åŠ¨å¯¼å…¥</h5>
            <p>é—®é¢˜å¯¼å…¥ï¼Œæ¿€å‘å­¦ç”Ÿå…´è¶£</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ¤ å¸ˆç”Ÿäº’åŠ¨</h5>
            <p>è®¨è®ºäº¤æµï¼Œåˆä½œæ¢ç©¶</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“ å®è·µç»ƒä¹ </h5>
            <p>å·©å›ºçŸ¥è¯†ï¼Œæå‡èƒ½åŠ›</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“‹ æ€»ç»“åæ€</h5>
            <p>æ¢³ç†çŸ¥è¯†ï¼Œåæ€å­¦ä¹ </p>
          </div>
        </div>

        <div v-else-if="template.style === 'inquiry'" class="structure-content">
          <div class="structure-item">
            <h5>ğŸ” é—®é¢˜æå‡º</h5>
            <p>åˆ›è®¾æƒ…å¢ƒï¼Œæå‡ºæ¢ç©¶é—®é¢˜</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ’­ å‡è®¾å½¢æˆ</h5>
            <p>å¼•å¯¼å­¦ç”Ÿæå‡ºå‡è®¾</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ§ª æ¢ç©¶éªŒè¯</h5>
            <p>è®¾è®¡å®éªŒï¼ŒéªŒè¯å‡è®¾</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“Š æ•°æ®åˆ†æ</h5>
            <p>æ”¶é›†æ•°æ®ï¼Œåˆ†æç»“æœ</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ’¡ ç»“è®ºå½¢æˆ</h5>
            <p>å¾—å‡ºç»“è®ºï¼Œæ€»ç»“è§„å¾‹</p>
          </div>
        </div>

        <div v-else-if="template.style === 'project'" class="structure-content">
          <div class="structure-item">
            <h5>ğŸ¯ é¡¹ç›®ä»‹ç»</h5>
            <p>æ˜ç¡®é¡¹ç›®ç›®æ ‡å’Œè¦æ±‚</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ‘¥ å›¢é˜Ÿç»„å»º</h5>
            <p>åˆ†ç»„åˆä½œï¼Œæ˜ç¡®åˆ†å·¥</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“‹ ä»»åŠ¡åˆ†è§£</h5>
            <p>å°†é¡¹ç›®åˆ†è§£ä¸ºå…·ä½“ä»»åŠ¡</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ› ï¸ é¡¹ç›®å®æ–½</h5>
            <p>åŠ¨æ‰‹å®è·µï¼Œè§£å†³é—®é¢˜</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“¢ æˆæœå±•ç¤º</h5>
            <p>å±•ç¤ºé¡¹ç›®æˆæœï¼Œåˆ†äº«ç»éªŒ</p>
          </div>
        </div>

        <div v-else class="structure-content">
          <div class="structure-item">
            <h5>ğŸ“š æ•™å­¦ç›®æ ‡</h5>
            <p>çŸ¥è¯†ä¸æŠ€èƒ½ã€è¿‡ç¨‹ä¸æ–¹æ³•ã€æƒ…æ„Ÿæ€åº¦ä»·å€¼è§‚</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ¯ æ•™å­¦é‡éš¾ç‚¹</h5>
            <p>æ˜ç¡®æ•™å­¦é‡ç‚¹å’Œéš¾ç‚¹</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ”„ å¤ä¹ å¯¼å…¥</h5>
            <p>å¤ä¹ æ—§çŸ¥ï¼Œå¯¼å…¥æ–°è¯¾</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“– æ–°è¯¾è®²æˆ</h5>
            <p>ç³»ç»Ÿè®²è§£ï¼Œé€æ­¥æ·±å…¥</p>
          </div>
          <div class="structure-item">
            <h5>âœï¸ è¯¾å ‚ç»ƒä¹ </h5>
            <p>åŠæ—¶ç»ƒä¹ ï¼Œå·©å›ºçŸ¥è¯†</p>
          </div>
          <div class="structure-item">
            <h5>ğŸ“ è¯¾å ‚å°ç»“</h5>
            <p>æ€»ç»“å½’çº³ï¼Œå¸ƒç½®ä½œä¸š</p>
          </div>
        </div>
      </div>
    </div>

    <!-- é€‚ç”¨è¯´æ˜ -->
    <div class="preview-tips">
      <h4 class="section-title">é€‚ç”¨è¯´æ˜</h4>
      <div class="tips-content">
        <p v-if="template.style === 'interactive'">
          é€‚åˆéœ€è¦å¤§é‡å¸ˆç”Ÿäº’åŠ¨çš„è¯¾ç¨‹ï¼Œå¦‚è¯­è¨€ç±»ã€ç¤¾ä¼šç§‘å­¦ç±»è¯¾ç¨‹ã€‚
          å¼ºè°ƒå­¦ç”Ÿå‚ä¸åº¦ï¼ŒåŸ¹å…»æ²Ÿé€šè¡¨è¾¾èƒ½åŠ›ã€‚
        </p>
        <p v-else-if="template.style === 'inquiry'">
          é€‚åˆç†ç§‘ç±»è¯¾ç¨‹ï¼Œå¦‚ç‰©ç†ã€åŒ–å­¦ã€ç”Ÿç‰©ç­‰ã€‚
          åŸ¹å…»å­¦ç”Ÿçš„ç§‘å­¦æ€ç»´å’Œæ¢ç©¶èƒ½åŠ›ã€‚
        </p>
        <p v-else-if="template.style === 'project'">
          é€‚åˆç»¼åˆæ€§è¾ƒå¼ºçš„è¯¾ç¨‹ï¼Œå¦‚ä¿¡æ¯æŠ€æœ¯ã€ç»¼åˆå®è·µç­‰ã€‚
          åŸ¹å…»å­¦ç”Ÿçš„å®è·µèƒ½åŠ›å’Œå›¢é˜Ÿåä½œç²¾ç¥ã€‚
        </p>
        <p v-else>
          é€‚åˆçŸ¥è¯†æ€§è¾ƒå¼ºçš„è¯¾ç¨‹ï¼Œå¦‚æ•°å­¦ã€å†å²ç­‰ã€‚
          æ³¨é‡çŸ¥è¯†çš„ç³»ç»Ÿæ€§å’Œé€»è¾‘æ€§ã€‚
        </p>
      </div>
    </div>
  </div>
</template>

<script setup>
import { defineProps } from 'vue';
import {
  ChatDotRound,
  Search,
  Folder,
  Document
} from '@element-plus/icons-vue';

const props = defineProps({
  template: {
    type: Object,
    required: true
  },
  outline: {
    type: String,
    default: ''
  }
});

// è·å–æ¨¡æ¿å›¾æ ‡
const getTemplateIcon = (style) => {
  const iconMap = {
    interactive: ChatDotRound,
    inquiry: Search,
    project: Folder,
    traditional: Document
  };
  return iconMap[style] || Document;
};

// è·å–æ¨¡æ¿å›¾æ ‡æ ·å¼ç±»
const getTemplateIconClass = (style) => {
  const classMap = {
    interactive: 'text-blue-600',
    inquiry: 'text-green-600',
    project: 'text-purple-600',
    traditional: 'text-orange-600'
  };
  return classMap[style] || 'text-gray-600';
};

// è·å–æ¨¡æ¿æ ‡ç­¾ç±»å‹
const getTemplateTagType = (style) => {
  const typeMap = {
    interactive: 'primary',
    inquiry: 'success',
    project: 'warning',
    traditional: 'info'
  };
  return typeMap[style] || 'info';
};

// è·å–æ¨¡æ¿é£æ ¼åç§°
const getTemplateStyleName = (style) => {
  const nameMap = {
    interactive: 'äº’åŠ¨å¼',
    inquiry: 'æ¢ç©¶å¼',
    project: 'é¡¹ç›®å¼',
    traditional: 'ä¼ ç»Ÿå¼'
  };
  return nameMap[style] || 'æœªçŸ¥';
};
</script>

<style scoped>
.template-preview {
  @apply space-y-6;
}

.preview-header {
  @apply flex items-center justify-between p-4 bg-gray-50 rounded-lg;
}

.template-icon {
  @apply w-12 h-12 flex items-center justify-center bg-white rounded-lg shadow-sm;
}

.template-name {
  @apply text-lg font-semibold text-gray-900;
}

.template-description {
  @apply text-sm text-gray-600;
}

.preview-content {
  @apply space-y-4;
}

.section-title {
  @apply text-base font-medium text-gray-900 border-b border-gray-200 pb-2;
}

.structure-content {
  @apply space-y-3;
}

.structure-item {
  @apply p-3 bg-gray-50 rounded-lg;
}

.structure-item h5 {
  @apply text-sm font-medium text-gray-900 mb-1;
}

.structure-item p {
  @apply text-xs text-gray-600;
}

.preview-tips {
  @apply space-y-3;
}

.tips-content {
  @apply p-3 bg-blue-50 border border-blue-200 rounded-lg;
}

.tips-content p {
  @apply text-sm text-blue-800;
}
</style>
