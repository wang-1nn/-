-- 考试测试数据

-- 添加课程
INSERT INTO `courses` (`id`, `teacher_id`, `title`, `subject`, `description`, `created_at`, `image`) VALUES
(101, 2, '高等数学', '数学', '高等数学基础课程', '2023-09-01', '/images/math.jpg'),
(102, 2, '线性代数', '数学', '线性代数基础课程', '2023-09-01', '/images/linear.jpg'),
(103, 2, '数据结构', '计算机科学', '数据结构与算法基础', '2023-09-01', '/images/ds.jpg'),
(104, 2, '计算机网络', '计算机科学', '计算机网络基础', '2023-09-01', '/images/network.jpg'),
(105, 2, '程序设计基础', '计算机科学', 'Python程序设计基础', '2023-09-01', '/images/python.jpg');

-- 添加班级
INSERT INTO `classes` (`id`, `name`, `grade`, `major`) VALUES
(201, '计算机科学2301班', '2023级', '计算机科学与技术'),
(202, '软件工程2301班', '2023级', '软件工程'),
(203, '人工智能2301班', '2023级', '人工智能');

-- 添加课程开设
INSERT INTO `course_offerings` (`id`, `course_id`, `class_id`, `semester`, `status`) VALUES
(301, 101, 201, '2023-2024-1', 1),
(302, 102, 201, '2023-2024-1', 1),
(303, 103, 201, '2023-2024-1', 1),
(304, 104, 201, '2023-2024-1', 1),
(305, 105, 201, '2023-2024-1', 1);

-- 添加选课记录
INSERT INTO `enrollments` (`id`, `student_id`, `offering_id`) VALUES
(401, 3, 301),
(402, 3, 302),
(403, 3, 303),
(404, 3, 304),
(405, 3, 305);

-- 添加考试
INSERT INTO `exams` (`id`, `offering_id`, `creator_id`, `title`, `exam_type`, `start_time`, `end_time`) VALUES
(501, 301, 2, '高等数学期中考试', '期中考试', '2023-10-25 14:00:00', '2023-10-25 16:00:00'),
(502, 302, 2, '线性代数小测验', '小测验', '2023-10-15 10:00:00', '2023-10-15 11:00:00'),
(503, 303, 2, '数据结构期末考试', '期末考试', '2023-11-20 09:00:00', '2023-11-20 11:00:00'),
(504, 304, 2, '计算机网络在线测验', '在线测验', '2023-10-18 19:00:00', '2023-10-18 21:00:00'),
(505, 305, 2, 'Python编程实践测试', '实践测试', '2023-11-05 14:30:00', '2023-11-05 17:30:00');

-- 添加题目
-- 高等数学期中考试题目
INSERT INTO `questions` (`question_id`, `exam_id`, `question_type`, `content`, `options`, `answer`, `analysis`, `score`, `difficulty`, `created_by`, `is_ai_generated`, `created_at`) VALUES
('q1001', '501', '单选题', '若函数f(x)=x²在点x=1处的导数为k，则k等于：', '[\"1\", \"2\", \"3\", \"4\"]', '1', '导数公式f\'(x)=2x，所以f\'(1)=2', 5.00, 2, '2', 0, '2023-10-20 10:00:00'),
('q1002', '501', '单选题', '下列哪个级数收敛？', '[\"Σ(1/n)\", \"Σ(1/n²)\", \"Σ(1/√n)\", \"Σ(n/(n+1))\"]', '1', 'Σ(1/n²)是p级数，p=2>1，收敛', 5.00, 3, '2', 0, '2023-10-20 10:01:00'),
('q1003', '501', '单选题', '函数f(x)=sin(x)的泰勒展开式的前三项是：', '[\"x\", \"x-x³/3!\", \"x-x³/3!+x⁵/5!\", \"x-x²/2!+x³/3!\"]', '1', 'sin(x)的泰勒展开式为x-x³/3!+x⁵/5!-...', 5.00, 3, '2', 0, '2023-10-20 10:02:00'),
('q1004', '501', '填空题', '计算极限：lim(x→0) (sin(x)/x)', '1', '1', '使用洛必达法则或泰勒展开式可得结果为1', 10.00, 2, '2', 0, '2023-10-20 10:03:00'),
('q1005', '501', '单选题', '矩阵A=[[1,2],[3,4]]的行列式等于：', '[\"-2\", \"-1\", \"1\", \"2\"]', '0', '|A|=1*4-2*3=-2', 5.00, 1, '2', 0, '2023-10-20 10:04:00');

-- 线性代数小测验题目
INSERT INTO `questions` (`question_id`, `exam_id`, `question_type`, `content`, `options`, `answer`, `analysis`, `score`, `difficulty`, `created_by`, `is_ai_generated`, `created_at`) VALUES
('q2001', '502', '单选题', '矩阵的秩等于非零行的数目，这句话：', '[\"正确\", \"错误\", \"不完整\", \"不确定\"]', '2', '矩阵的秩等于线性无关的行或列的最大数目', 5.00, 2, '2', 0, '2023-10-10 10:00:00'),
('q2002', '502', '单选题', '若矩阵A是可逆的，则A的行列式：', '[\"等于0\", \"不等于0\", \"等于1\", \"等于A的迹\"]', '1', '可逆矩阵的行列式不等于0', 5.00, 1, '2', 0, '2023-10-10 10:01:00'),
('q2003', '502', '填空题', '设A是3阶方阵，若|A|=5，则|2A|=？', '40', '40', '|kA|=k^n|A|，其中n是矩阵的阶数，所以|2A|=2^3*5=40', 10.00, 2, '2', 0, '2023-10-10 10:02:00');

-- 数据结构期末考试题目
INSERT INTO `questions` (`question_id`, `exam_id`, `question_type`, `content`, `options`, `answer`, `analysis`, `score`, `difficulty`, `created_by`, `is_ai_generated`, `created_at`) VALUES
('q3001', '503', '单选题', '以下哪种数据结构是非线性的？', '[\"栈\",\"队列\",\"树\",\"链表\"]', '2', '树是非线性数据结构，其他都是线性的', 5.00, 1, '2', 0, '2023-11-15 10:00:00'),
('q3002', '503', '单选题', '快速排序的平均时间复杂度是：', '[\"O(n)\",\"O(n log n)\",\"O(n²)\",\"O(n³)\"]', '1', '快速排序平均时间复杂度为O(n log n)', 5.00, 2, '2', 0, '2023-11-15 10:01:00'),
('q3003', '503', '填空题', '一个栈的入栈序列为1,2,3,4,5，则不可能的出栈序列是：', '[]', '5,4,1,2,3', '栈是后进先出结构，该序列不符合栈的特性', 10.00, 3, '2', 0, '2023-11-15 10:02:00');

-- 计算机网络在线测验题目
INSERT INTO `questions` (`question_id`, `exam_id`, `question_type`, `content`, `options`, `answer`, `analysis`, `score`, `difficulty`, `created_by`, `is_ai_generated`, `created_at`) VALUES
('q4001', '504', '单选题', 'TCP协议工作在哪一层？', '[\"应用层\", \"传输层\", \"网络层\", \"数据链路层\"]', '1', 'TCP协议是传输层协议', 5.00, 1, '2', 0, '2023-10-15 10:00:00'),
('q4002', '504', '单选题', '以下哪个不是HTTP状态码？', '[\"200 OK\", \"404 Not Found\", \"500 Server Error\", \"600 Unknown Error\"]', '3', '600不是标准HTTP状态码', 5.00, 2, '2', 0, '2023-10-15 10:01:00'),
('q4003', '504', '填空题', 'IPv4地址的长度是多少位？', '32', '32', 'IPv4地址是32位的，通常表示为四段十进制数', 5.00, 1, '2', 0, '2023-10-15 10:02:00');

-- Python编程实践测试题目
INSERT INTO `questions` (`question_id`, `exam_id`, `question_type`, `content`, `options`, `answer`, `analysis`, `score`, `difficulty`, `created_by`, `is_ai_generated`, `created_at`) VALUES
('q5001', '505', '单选题', '以下哪个不是Python的基本数据类型？', '[\"int\",\"float\",\"string\",\"array\"]', '3', 'Python中没有内置的array类型，而是使用list', 5.00, 1, '2', 0, '2023-11-01 10:00:00'),
('q5002', '505', '填空题', '编写一个Python函数，计算1到n的和', '[]', 'def sum_to_n(n):\n    return sum(range(1, n+1))', '使用sum函数和range生成器可以简洁地实现', 10.00, 2, '2', 0, '2023-11-01 10:01:00'),
('q5003', '505', '填空题', '列表推导式[x for x in range(10) if x % 2 == 0]的结果是？', '[]', '[0, 2, 4, 6, 8]', '这个列表推导式生成0到9中的偶数列表', 5.00, 2, '2', 0, '2023-11-01 10:02:00');

-- 添加学生提交记录
INSERT INTO `submissions` (`id`, `exam_id`, `student_id`, `status`, `submitted_at`, `total_score`) VALUES
(601, 501, 3, 1, '2023-10-25 15:45:00', NULL),
(602, 502, 3, 2, '2023-10-15 10:55:00', 15.00),
(603, 504, 3, 2, '2023-10-18 20:30:00', 12.00);

-- 添加学生答案
-- 高等数学期中考试答案
INSERT INTO `answers` (`id`, `submission_id`, `question_id`, `user_answer`, `score`, `is_correct`, `comment`, `answered_at`, `graded_by`, `graded_at`) VALUES
(701, 601, 'q1001', '1', NULL, NULL, NULL, '2023-10-25 14:15:00', NULL, NULL),
(702, 601, 'q1002', '1', NULL, NULL, NULL, '2023-10-25 14:25:00', NULL, NULL),
(703, 601, 'q1003', '1', NULL, NULL, NULL, '2023-10-25 14:35:00', NULL, NULL),
(704, 601, 'q1004', '1', NULL, NULL, NULL, '2023-10-25 14:45:00', NULL, NULL),
(705, 601, 'q1005', '0', NULL, NULL, NULL, '2023-10-25 15:00:00', NULL, NULL);

-- 线性代数小测验答案（已批改）
INSERT INTO `answers` (`id`, `submission_id`, `question_id`, `user_answer`, `score`, `is_correct`, `comment`, `answered_at`, `graded_by`, `graded_at`) VALUES
(711, 602, 'q2001', '2', 5.00, 1, NULL, '2023-10-15 10:10:00', '2', '2023-10-16 09:00:00'),
(712, 602, 'q2002', '1', 5.00, 1, NULL, '2023-10-15 10:20:00', '2', '2023-10-16 09:01:00'),
(713, 602, 'q2003', '40', 5.00, 1, NULL, '2023-10-15 10:30:00', '2', '2023-10-16 09:02:00');

-- 计算机网络在线测验答案（已批改）
INSERT INTO `answers` (`id`, `submission_id`, `question_id`, `user_answer`, `score`, `is_correct`, `comment`, `answered_at`, `graded_by`, `graded_at`) VALUES
(721, 603, 'q4001', '1', 5.00, 1, NULL, '2023-10-18 19:15:00', '0', '2023-10-18 20:31:00'),
(722, 603, 'q4002', '2', 0.00, 0, '正确答案是3', '2023-10-18 19:25:00', '0', '2023-10-18 20:31:00'),
(723, 603, 'q4003', '32', 7.00, 1, NULL, '2023-10-18 19:35:00', '0', '2023-10-18 20:31:00'); 